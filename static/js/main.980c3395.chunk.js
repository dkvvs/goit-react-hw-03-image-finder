(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,a,t){e.exports={app:"App_app__or_lB",boxSpinner:"App_boxSpinner__2ZPwx"}},12:function(e,a,t){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__1jDXN",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__3ECFu"}},13:function(e,a,t){e.exports={boxButton:"Button_boxButton__1y26B",button:"Button_button__D00lr"}},14:function(e,a,t){e.exports={modalBackdrop:"Modal_modalBackdrop__3fSAG",modalContent:"Modal_modalContent__29JOt"}},17:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__ltaYD"}},24:function(e,a,t){},34:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(0),o=t.n(r),c=t(2),s=t.n(c),l=(t(24),t(15)),i=t(3),u=t(4),h=t(6),m=t(5),d=t(8),g=t(11),p=t.n(g),b=(t(25),t(7)),j=t.n(b),f=function(e){Object(h.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={searchValue:""},e.handleChange=function(a){var t=a.target;e.setState({searchValue:t.value})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.searchValue;""!==t.trim()?(e.props.onSearch(t),e.setState({searchValue:""})):d.b.warn("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",{position:d.b.POSITION.TOP_LEFT})},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.state.searchValue;return Object(n.jsx)("header",{className:j.a.searchbar,children:Object(n.jsxs)("form",{className:j.a.searchForm,onSubmit:this.handleSubmit,children:[Object(n.jsx)("button",{type:"submit",className:j.a.searchFormButton,children:Object(n.jsx)("span",{className:j.a.searchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{className:j.a.searchFormInput,type:"text",name:"searchValue",value:e,onChange:this.handleChange,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),t}(r.Component),O=t(17),y=t.n(O),_=t(12),v=t.n(_),x=function(e){var a=e.largeImageURL,t=e.webformatURL,r=e.onOpenImage;return Object(n.jsx)("li",{className:v.a.imageGalleryItem,children:Object(n.jsx)("img",{className:v.a.imageGalleryItemImage,url:a,src:t,alt:"",onClick:function(){r(a)}})})},I=function(e){var a=e.iamges,t=e.onOpenImage;return Object(n.jsx)("ul",{className:y.a.imageGallery,children:a.map((function(e){var a=e.id,r=e.webformatURL,o=e.largeImageURL;return Object(n.jsx)(x,{webformatURL:r,largeImageURL:o,onOpenImage:t},a)}))})},S=t(13),w=t.n(S),k=function(e){var a=e.onClick;return Object(n.jsx)("div",{className:w.a.boxButton,children:Object(n.jsx)("button",{type:"button",className:w.a.button,onClick:a,children:"Load more"})})},C=t(14),B=t.n(C),F=document.querySelector("#modal-root"),L=function(e){Object(h.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleKeyDown=function(a){"Escape"===a.code&&(console.log("kjfdkjfkdjf"),e.props.onClose())},e.handleBackdropClick=function(a){a.currentTarget===a.target&&e.props.onClose()},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.onLargeImage;return Object(c.createPortal)(Object(n.jsx)("div",{className:B.a.modalBackdrop,onClick:this.handleBackdropClick,children:Object(n.jsx)("div",{className:B.a.modalContent,children:Object(n.jsx)("img",{src:e,alt:""})})}),F)}}]),t}(r.Component),N=t(18),G=t.n(N),M=function(e){Object(h.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.loading;return Object(n.jsx)("div",{className:"sweet-loading",children:Object(n.jsx)(G.a,{size:80,color:"#df101b",loading:e})})}}]),t}(r.Component);var D={fetchImages:function(e,a){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat("19490802-1c5184405fc512a55f5ad98ed","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}},P=function(e){Object(h.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={showModal:!1,searchQuery:"",page:1,loading:!1,images:[],largeImage:""},e.handleSearchSubmit=function(a){e.state.searchQuery!==a&&e.setState({images:[],searchQuery:a,page:1})},e.handleOpenLargeImage=function(a){e.setState({showModal:!0,largeImage:a})},e.handleAddPage=function(){e.setState((function(e){return{page:e.page+1}}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this,n=this.state,r=n.page,o=n.searchQuery;a.searchQuery===o&&a.page===r||(this.setState({loading:!0}),D.fetchImages(o,r).then((function(e){t.setState((function(a){return{images:[].concat(Object(l.a)(a.images),Object(l.a)(e.hits))}}))})).catch((function(e){return console.error(e)})).finally((function(){return t.setState({loading:!1})}))),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.showModal,r=e.loading,o=e.largeImage,c=a.length>0&&!r;return Object(n.jsxs)("div",{className:p.a.app,children:[Object(n.jsx)(f,{onSearch:this.handleSearchSubmit}),Object(n.jsx)(I,{iamges:a,onOpenImage:this.handleOpenLargeImage}),Object(n.jsx)("div",{className:p.a.boxSpinner,children:Object(n.jsx)(M,{loading:r})}),c&&Object(n.jsx)(k,{onClick:this.handleAddPage}),t&&Object(n.jsx)(L,{onClose:this.toggleModal,onLargeImage:o}),Object(n.jsx)(d.a,{})]})}}]),t}(r.Component),U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,o=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),o(e),c(e)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),U()},7:function(e,a,t){e.exports={searchbar:"Searchbar_searchbar__Su44x",searchForm:"Searchbar_searchForm__3G0Py",searchFormButton:"Searchbar_searchFormButton__3GOWa",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__1Shma",searchFormInput:"Searchbar_searchFormInput__3yURf"}}},[[34,1,2]]]);
//# sourceMappingURL=main.980c3395.chunk.js.map